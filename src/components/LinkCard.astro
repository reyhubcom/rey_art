---
import { ExternalLinkIcon } from "../icons";
import Rendericon from "./Rendericon.astro";
import { cn } from "../utils/classNames";
import { Image } from "astro:assets";

interface Props {
  label: string;
  description: string;
  url: string;
  icon: string;
  cover?: string;
}

const { label, url, description, icon, cover }: Props = Astro.props;

const colorsMap: Record<string, string> = {
  instagram: "from-pink-500 via-red-500 to-yellow-500", // clásico degradado IG
  facebook: "from-blue-500 to-blue-700", // azul fb
  x: "from-gray-600 to-gray-800", // X (twitter) negro/gris
  spotify: "from-green-500 to-green-700", // verde spotify
  applemusic: "from-pink-500 to-red-600", // apple music (rosado/rojo)
  tidal: "from-sky-600 to-sky-800", // azul marino tidal
  whatsapp: "from-green-400 to-green-600", // verde whatsapp
  youtube: "from-red-500 to-red-700", // rojo yt
  email: "from-indigo-500 to-indigo-700", // azul clásico para mail
  website: "from-gray-500 to-gray-700", // gris neutro
  tiktok: "from-cyan-500 to-pink-500", // cian/rosa TikTok
};
---

<a
  href={url}
  class="group block bg-white/5 backdrop-blur-xl rounded-2xl p-4 border border-white/10 hover:border-white/20 transition-all duration-300 hover:bg-white/10 hover:shadow-xl hover:scale-[1.02]"
>
  <div class="flex items-center gap-4">
    {/* Icon or Image */}
    <div
      class={cn(
        "relative size-16 rounded-xl bg-gradient-to-r p-0.5 group-hover:scale-110 transition-transform duration-200",
        colorsMap[icon]
      )}
    >
      <div
        class="w-full h-full bg-foreground/10 backdrop-blur-xl rounded-xl flex items-center justify-center"
      >
        {
          cover ? (
            <Image
              src={cover}
              alt={label}
              class="w-full h-full object-cover rounded-xl"
              loading="lazy"
              decoding="async"
              width={64}
              height={64}
            />
          ) : (
            <Rendericon name={icon} size={30} class="text-white" />
          )
        }
      </div>
    </div>

    {/* Content */}
    <div class="flex-1">
      <h3
        class="text-foreground font-semibold text-lg group-hover:text-foreground/90 transition-colors duration-200"
      >
        {label}
      </h3>
      <p class="text-foreground/60 text-sm">
        {description}
      </p>
    </div>

    {/* Arrow */}
    <div
      class="text-foreground/40 group-hover:text-foreground/80 group-hover:translate-x-1 transition-all duration-200"
    >
      <ExternalLinkIcon size={20} />
    </div>
  </div>
</a>
